This is version 1.3 of the Win32 (NT and Windows/95) port of TIN.

TIN is a newsreader for Usenet news. It can read articles either from a
local article data base (newsspool) or via TCP/IP, XNS or pipes from a 
news server using the Network News Transport Protocol (NNTP).

To run TIN you need
  - set environment variables 
  To read news via NNTP
  - Network access to an nntp server,
  - some free space on a HPFS, VFAT or NTFS partition 

optional:  
  - uudecode and uushar utilities 
    Note:  uudecode is posted regularly to comp.binaries.os2 in the "OS/2 
           Binaries Starter's Kit" by mykek@miller.cs.uwm.edu (OS/2 
           binaries moderator)
  - sendmail (ftp:://ftp.wa.com/pub/local/ntnews/tin/utils)
           A small sendmail stub to Win32 which will send mail over MAPI or
           SMTP transports.  Written by nigele@microsoft.com.

Using TIN under Win32

To run the local newsspool version, start TIN.  To run the NNTP version, 
start TIN -r, or rename TIN.EXE to RTIN.EXE and run RTIN.  

TIN runs as a Win32 console application.  It is not a GUI application.

Environment Variables 

USER      
    userid or short name, no space or punctuation, required.

REALNAME  
    Your Full Name, required unless passwd file is used.

HOMEPATH
    \your\home\directory

HOMEDRIVE
	your home drive

TMP
    Temporary directory 

NNTPSERVER 
    either the fully qualified domain name of the nntp server or
    the dotted internet address of the nntp server, required for 
    NNTP version.

INEWS_MAIL_DOMAIN
    Your email domain

INEWS_MAIL_GATEWAY
    Your email gateway.  NB: set either GATEWAY or DOMAIN, not both.

HOSTNAME 
    specifies the name of your machine.  It is used to identify your 
    machine to the nntp server, required for NNTP version.

TIN_SPOOLDIR
    path to the root of the news spool, required for local newsspool 
    version.

TIN_LIBDIR
    path to news control:  active file, newsgroups file etc., required 
    for local newsspool version.

TIN_NOVROOTDIR 
    path to overview files, required for local newsspool version.

EDITOR 
VISUAL
    specify the editor to use for composing articles and replies. Defaults
    to 'vi' ;-).

SHELL
    specify command shell to use for shell escapes - defaults to whatever
    is set by COMSPEC or the shell field in the passwd file record.

Note that none of the environment variables that refer to directories should 
have a trailing backslash '\'.

For other environment variables, see ENVIRONMENT VARIABLES in tin.man.  


Setting up TIN to work with UUPC.

UUPC v1.11z has the ability to receive batches of news articles and file
them in a news spool directory hierarchy. See the section on RNEWS in
COMMANDS.PRN in the UUPC documentation. Don't set set snews mode: TIN
expects to find a regular news spool.

In the following I assume that you have installed UUPC in the directory 
c:\uupc and that your HOME directory is c:\home\name.

Unless you have INN style .overview files (which you don't have if you are
using UUPC), both TIN_SPOOLDIR and TIN_NOVROOTDIR should point to the same
directory.  In the UUPC.RC file, this directory is specified by 
NewsDir= . It is the root of the news tree, ie. it should contain a
directory for every top-level newsgroup, such as ALT, COMP, NEWS, BIZ, 
REC, SOC etc.  Each newsgroup in your active file should have a
corresponding directory path, ie. for alt.sources it should be
c:\uupc\news\alt\sources, for comp.os.os2.misc it should be
c:\uupc\news\comp\os\os2\misc.  The articles in each newsgroup should sit
in files with numeric names in the corresponding directories.

TIN_LIBDIR should point to the directory that contains the file ACTIVE
which lists all the newsgroups you have in your newsspool. In the UUPC.RC 
file, this directory is specified by the ConfDir= line.  Records (=lines)
in the active file should look similar to this:

alt.sources 655 652 y
comp.os.os2.apps 3480 3309 y
comp.os.os2.misc 14565 14513 y
comp.os.os2.programmer 2298 2176 y

The first time you run TIN, it will create the directory .tin in the 
directory you specify as HOMEPATH, in our example that would be 
c:\home\name\.tin. In that directory, tin will create a number of files and 
subdirectories. In HOME itself, TIN will create the file .newsrc, in our 
case that would be c:\home\name\.newsrc. The .newsrc file lists the
newsgroups you have subscribed to and the article numbers of the articles
you have read. Sample .newsrc lines read like this:

alt.sources:  1-652
comp.os.os2.apps:  1-3309
comp.os.os2.misc:  1-14513
comp.os.os2.programmer:  1-2176

On my system, I have the following variables set:

USER=andreas
REALNAME=Andreas Wrede
HOME=c:\home\andreas
TIN_LIBDIR=c:\uupc
TIN_SPOOLDIR=c:\uupc\news
TIN_NOVROOTDIR=c:\uupc\news

Building TIN for Win32

To build TIN, you need the following:

  - Microsoft Visual C++

Create a new project of type console application.  Define the following 
pre-processor directives:

   DONT_HAVE_TM_GMTOFF
   WIN32
   NNTP_ABLE
One of:
   INEWS_MAIL_DOMAIN=\"$INEWS_MAIL_DOMAIN\"
   INEWS_MAIL_GATEWAY=\"$INEWS_MAIL_GATEWAY\"

Then one of WIN32IP, WIN32XNS or WIN32PIPES.  Default is WIN32IP for TCP/IP
operation.

Enjoy!  

Nigel Ellis (nigele@microsoft.com)
